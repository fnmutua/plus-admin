

ALTER TABLE public.dashboard_section_chart
ADD COLUMN filters JSONB[];

UPDATE dashboard_section_chart
SET filters = ARRAY[jsonb_build_object(
                  'field', filter_field,
                  'operation', filter_function,
                  'value', filter_value[1]
                 )];



ALTER TABLE public.dashboard_card
ADD COLUMN filters JSONB[];

UPDATE dashboard_card
SET filters = ARRAY[jsonb_build_object(
                  'field', filter_field,
                  'operation', filter_function,
                  'value', filter_value[1]
                 )];



DROP TABLE logs CASCADE;
DROP TABLE grievance CASCADE;




psql -U username -d database_name -c "\copy table_name(column1, column2, ...) FROM '/path/to/your/file.csv' WITH (FORMAT csv, HEADER true)"




 
DROP TABLE grievance CASCADE;




ALTER TABLE users ALTER COLUMN phone TYPE VARCHAR(50);


INSERT INTO public.user_roles(roleid, userid) VALUES (0,9);


# get newest Memebrs 

SELECT id, username
FROM users
ORDER BY id DESC
LIMIT 10;



INSERT INTO public.roles( name, description,   isactive, "createdAt", "updatedAt")
VALUES ('gbv', 'GBV',  true, '2024-10-18 10:44:45.433+03', '2024-10-18 10:44:45.433+03');



UPDATE public.roles
SET subordinates = ARRAY[1, 2, 3, 4, 5, 6, 8]
WHERE id = 0;


ALTER SEQUENCE dashboard_card_id_seq RESTART WITH 5;



UPDATE public.dashboard_card
SET id = 4
WHERE id = 34;



ALTER TABLE grievance 
ADD pcode VARCHAR(255) NULL;


UPDATE grievance  SET pcode = code ;
 